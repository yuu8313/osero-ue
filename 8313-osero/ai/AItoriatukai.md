# オセロAI設定ガイド

## 基本的な難易度設定

AIの難易度は`ai/ai1.js`の`AI_CONFIG`オブジェクトで設定できます。

```javascript
DIFFICULTY: 3  // 1から5までの値を設定可能
```

### 難易度レベルの詳細

1. **レベル1 (初級)**
   - 完全にランダムな手を選択
   - 初心者の練習用に最適
   - 思考時間が最も短い
   - 戦略的な判断を行わない
   - 初心者向け

2. **レベル2 (初中級)**
   - 2手先まで読む
   - 基本的な評価のみを使用
   - 中級者への準備段階として適切
   - コーナーの重要性を理解
   - 基本的な戦略を実装

3. **レベル3 (中級)** - デフォルト設定
   - 3手先まで読む
   - すべての評価要素を使用
   - 一般的なプレイヤー向け
   - バランスの取れた戦略
   - 適度な思考時間

4. **レベル4 (上級)**
   - 4手先まで読む
   - より詳細な評価
   - 経験者向け
   - 高度な戦略を実装
   - より長い思考時間

5. **レベル5 (最強)**
   - 5手先まで読む
   - 最も強力な設定
   - 上級者向け
   - すべての評価要素を最大限活用
   - 最も長い思考時間
   - 最適な手を選択

## アルゴリズムの選択

```javascript
ALGORITHM: 'minimax'  // 'minimax' または 'alphabeta'
```

### Minimaxアルゴリズム
- **特徴**: 基本的な探索アルゴリズム
- **メリット**:
  - 実装がシンプル
  - 理解しやすい
  - デバッグが容易
- **デメリット**:
  - 計算時間が長い
  - 探索効率が悪い

### Alpha-Betaアルゴリズム
- **特徴**: 改良された探索アルゴリズム
- **メリット**:
  - より効率的な探索
  - 不要な枝刈りにより高速
  - より強い手を選択可能
- **デメリット**:
  - 実装が複雑
  - デバッグが難しい

## 評価要素の詳細設定

各評価要素は個別に有効/無効を切り替えられます：

```javascript
USE_POSITION_WEIGHTS: true/false  // 盤面の位置評価
USE_MOBILITY: true/false          // 移動可能手数の評価
USE_STABILITY: true/false         // 石の安定性評価
USE_FRONTIER: true/false          // フロンティア評価
USE_PARITY: true/false           // パリティ評価
USE_CORNER: true/false           // コーナー支配評価
```

### 各評価要素の説明

1. **位置評価 (POSITION_WEIGHTS)**
   - 盤面の各マスの価値を評価
   - コーナーや端の重要性を考慮
   - 序盤から中盤で特に重要

2. **移動可能手数 (MOBILITY)**
   - 打てる手の数を評価
   - 相手の行動を制限する戦略
   - 中盤で特に重要

3. **石の安定性 (STABILITY)**
   - ひっくり返されない石の評価
   - 確実に獲得できる領域の判定
   - 終盤で特に重要

4. **フロンティア評価 (FRONTIER)**
   - 石の配置の境界線を評価
   - 相手の打てる場所を制限
   - 中盤から終盤で重要

5. **パリティ評価 (PARITY)**
   - 残りマス数の偶奇を考慮
   - 最後の手を取る戦略
   - 終盤で特に重要

6. **コーナー支配 (CORNER)**
   - コーナーの獲得状況を評価
   - 最も重要な戦略要素
   - 全般的に重要

### 評価要素の重み付け詳細

各評価要素の重要度を細かく調整できます：

```javascript
WEIGHTS: {
    POSITION: 1.0,    // 位置の重要度
    MOBILITY: 0.5,    // 移動可能性の重要度
    STABILITY: 0.8,   // 安定性の重要度
    PIECE_COUNT: 0.3, // 石数の重要度
    FRONTIER: 0.4,    // フロンティアの重要度
    PARITY: 0.6,      // パリティの重要度
    CORNER: 2.0       // コーナーの重要度
}
```

## AIの性格カスタマイズ詳細

### 攻撃的なAI
```javascript
WEIGHTS: {
    MOBILITY: 1.0,    // 移動可能性を重視
    CORNER: 2.5,      // コーナー獲得を最重視
    FRONTIER: 0.8,    // 積極的に前線を広げる
    STABILITY: 0.4    // 安定性はあまり重視しない
}
```
- 特徴：
  - 積極的にコーナーを狙う
  - リスクを取る手を選択
  - 相手の動きを制限
  - 高リスク・高リターン

### 守備的なAI
```javascript
WEIGHTS: {
    STABILITY: 1.5,   // 安定性を重視
    POSITION: 1.2,    // 有利な位置取りを重視
    FRONTIER: 0.2,    // 前線を抑える
    MOBILITY: 0.3     // 相手の動きを制限
}
```
- 特徴：
  - 安定した石を重視
  - リスクの少ない手を選択
  - じっくりとした展開
  - 低リスク・安定リターン

### バランス型AI
```javascript
WEIGHTS: {
    POSITION: 1.0,
    MOBILITY: 0.5,
    STABILITY: 0.8,
    PIECE_COUNT: 0.3,
    FRONTIER: 0.4,
    PARITY: 0.6,
    CORNER: 2.0
}
```
- 特徴：
  - すべての要素をバランスよく評価
  - 状況に応じて戦略を変更
  - 安定した強さを発揮
  - 汎用的な戦略

## 探索深さの詳細設定

```javascript
MAX_DEPTH: function() {
    return Math.min(this.DIFFICULTY + 2, 5);
}
```

この関数は難易度に基づいて探索深さを決定します：
- 難易度1: 3手先まで
  - 基本的な読みのみ
  - 高速な応答
- 難易度2: 4手先まで
  - より深い読み
  - 中程度の応答時間
- 難易度3以上: 5手先まで
  - 最も深い読み
  - より長い応答時間
  - より正確な評価

## エンドゲームの詳細調整

```javascript
ENDGAME_THRESHOLD: 50  // エンドゲーム判定の閾値
```

残り手数がこの値より少なくなると、AIは以下の変更を行います：
- より深い探索を実行
- 評価関数の重みを調整
- 終盤特有の戦略を採用
- より正確な手の選択

## 位置の重み付けマトリックス詳細

盤面の各位置の重要度を詳細に設定できます：

```javascript
POSITION_WEIGHTS = [
    [120, -20,  20,   5,   5,  20, -20, 120], // 最上段
    [-20, -40,  -5,  -5,  -5,  -5, -40, -20], // 2段目
    [ 20,  -5,  15,   3,   3,  15,  -5,  20], // 3段目
    [  5,  -5,   3,   3,   3,   3,  -5,   5], // 4段目
    [  5,  -5,   3,   3,   3,   3,  -5,   5], // 5段目
    [ 20,  -5,  15,   3,   3,  15,  -5,  20], // 6段目
    [-20, -40,  -5,  -5,  -5,  -5, -40, -20], // 7段目
    [120, -20,  20,   5,   5,  20, -20, 120]  // 最下段
]
```

### マスの重要度の説明
- **コーナー (120)**
  - 最も価値が高い
  - 絶対に取られない
  - 優先的に獲得すべき

- **コーナー隣接 (-40)**
  - 最も危険な位置
  - 相手にコーナーを取られる可能性
  - 可能な限り避けるべき

- **エッジ (20)**
  - 比較的安全な位置
  - 安定性が高い
  - 積極的に獲得可能

- **中央エリア (3)**
  - 標準的な価値
  - 戦略的に重要
  - 状況に応じて使用

## 設定変更の詳細な注意点

1. **難易度設定**
   - 1から5の整数値のみ使用
   - 段階的に上げることを推奨
   - プレイヤーのレベルに合わせて調整

2. **重み付けの調整**
   - 正の数を使用推奨
   - 相対的な比率が重要
   - 極端な値は避ける

3. **評価要素の有効/無効**
   - 完全に無効にする前に重みを下げてテスト
   - 複数の要素を同時に変更しない
   - 変更後は十分なテストを実施

4. **アルゴリズムの選択**
   - 計算時間と強さのトレードオフを考慮
   - ハードウェア性能に応じて選択
   - デバッグ時はminimaxを推奨

5. **パフォーマンスの考慮**
   - 探索深さは計算時間に大きく影響
   - 評価要素は必要最小限に
   - 重い処理は段階的に追加
